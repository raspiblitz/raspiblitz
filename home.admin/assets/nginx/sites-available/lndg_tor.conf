## lndg_tor.conf
 
upstream django {
  server unix:///home/lndg/lndg/lndg.sock; # for a file socket
}

server {
  listen      8889;
  
  server_name _; # you can substitute your node IP address or a custom domain like lndg.local (just make sure to update your local hosts file)
  charset     utf-8;
  access_log /var/log/nginx/access_lndg.log;
  error_log /var/log/nginx/error_lndg.log;

  # max upload size
  client_max_body_size 75M;   # adjust to taste

  # max wait for django time
  proxy_read_timeout 180;

  # Django media
  location /static {
    alias /home/lndg/lndg/gui/static; # your Django project's static files - amend as required
  }

  # Finally, send all non-media requests to the Django server.
  location / {
    uwsgi_pass  django;
    include     /home/lndg/lndg/uwsgi_params; # the uwsgi_params file
  }
}

